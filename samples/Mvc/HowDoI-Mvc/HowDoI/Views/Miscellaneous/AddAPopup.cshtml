@using ThinkGeo.MapSuite.Mvc
@using ThinkGeo.MapSuite
@using ThinkGeo.MapSuite.Drawing
@using ThinkGeo.MapSuite.Layers
@using ThinkGeo.MapSuite.Shapes
@using ThinkGeo.MapSuite.Styles
<div class="four columns" id="navigation">
    @{Html.RenderPartial("SourceCode");}
    <div id="instrux-body">
        <div id="instrux-text">
            The sample shows how to add a popup on the map.
        </div>
    </div>
</div>
<div class="sixteen columns" id="main">
    <div>
        @{Html.ThinkGeo().Map("Map1", new System.Web.UI.WebControls.Unit(100, System.Web.UI.WebControls.UnitType.Percentage), 760)
                  .MapBackground(new GeoSolidBrush(GeoColor.FromHtml("#E5E3DF")))
                  .MapUnit(GeographyUnit.Meter)
                  .ZoomLevelSet(new ThinkGeoCloudMapsZoomLevelSet())
                  .CurrentExtent(-14607343.5818934, 7371576.14679691, -6014592.08756057, 1910351.0222467)
                  .CustomOverlays(overlays =>
                  {
                      // Please input your ThinkGeo Cloud API Key to enable the background map.
                      overlays.ThinkGeoCloudRasterMapsOverlay("ThinkGeoCloudMaps", "ThinkGeo Cloud API Key");
                  })
                  .Popups(x =>
                  {
                      PointShape position = new PointShape(-10777187.2205081, 3914069.30975534);
                      System.Text.StringBuilder contentHtml = new System.Text.StringBuilder();

                      contentHtml.Append("<div style='padding:10px; font-size:10px; font-family:verdana;'><img style='width:100px;height:124px;' alt='' align='left'")
                        .Append("src='../../content/images/frisco.png'/>Frisco is an affluent city in Collin and Denton .")
                        .Append("Counties in the U.S. state of Texas and a rapidly growing suburb of Dallas. As of the 2010 Census,")
                        .Append(" 116,989 people were living in Frisco up from 33,714 in the previous census.")
                        .Append("&nbsp;&nbsp;<a href='http://en.wikipedia.org/wiki/Frisco' ")
                        .Append("target='_blank'><br/>more about Frisco TX...</a></div>");
                      x.CloudPopup("samplePopup", position, contentHtml.ToString(), 380, 150).AutoSize(false).AutoPan(true).HasCloseButton(true);
                  })
                  .Render();}
    </div>
</div>
